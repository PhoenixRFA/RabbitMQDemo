@page
@model EmailingModel
@{
    ViewData["Title"] = "Emailing";
}

<div class="text-center">
    <h1 class="display-4">@ViewData["Title"]</h1>
    <p>
        Emails are comma-separated.<br />
        Email messaging service will split emails into separate email messages, put them into RabbitMQ queue and process (send).<br/>
        After sending form you will see progress of emails sending.
    </p>
</div>
<section>
    <form asp-page-handler="NewEmail" method="post">
        <div class="mb-3">
            <input class="form-control" name="emails" placeholder="Email" />
        </div>
        <div class="mb-3">
            <input class="form-control" name="subject" placeholder="Subject"/>
        </div>
        <div class="mb-3">
            <textarea class="form-control" name="body" placeholder="Body"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Send</button>
        <button id="fill-form-btn" type="button" class="btn btn-secondary">Fill</button>
    </form>
</section>

<script>
    const btn = document.getElementById('fill-form-btn');
    btn.addEventListener('click', fillForm);

    function fillForm(e){
        const form = this.closest('form');
        form.querySelector('[name=emails]').value = 'email1@email.com, email2@email.com, email3@email.com, email4@email.com, email5@email.com, email6@email.com';
        form.querySelector('[name=subject]').value = 'Email subject';
        form.querySelector('[name=body]').value = 'Email body';
    }
</script>